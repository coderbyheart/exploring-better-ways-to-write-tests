<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <title>Exploring better ways to write tests (updated edition)</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4//dist/reset.css">
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4//dist/reveal.css">
  <style>
    .reveal .sourceCode {  /* see #7635 */
      overflow: visible;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="https://unpkg.com/reveal.js@^4//dist/theme/white.css" id="theme">
  <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@300;400;500&display=swap" rel="stylesheet">
  <style>
  :root {
    --r-heading1-size: 1.5em;
  }
   .reveal h1, .reveal h2, .reveal h3, .reveal h4, .reveal h5, .reveal h6 {
      font-weight: 300;
      text-transform: none;
      font-family: var(--heading-font);
      color: #e00073;
   } 
   .reveal {
        font-size: var(--main-font-size);
        font-family: var(--main-font); 
        font-weight: 400;
        font-size: 32px;
        height: calc(100% - 60px);
   }
   .reveal strong {
        font-weight: 500;
   }
   .reveal a {
      color: #0069CC;
   }
   .reveal a:hover, .reveal a:active {
      color: #007EF5;
   }
   .reveal u {
      text-decoration-color: #e00073;
   }
   .reveal ul {
     list-style-type: square;
     list-style-color: #e00073;
   }
   .reveal li::marker {
     color: #e00073;
   }
   .reveal li {
     margin-bottom: 0.75rem;
   }
   :root {
        --main-font: 'Work Sans', sans-serif;
       --heading-font: 'Work Sans', sans-serif;
   }
   .reveal-viewport {
     background-color: #fff;
   }
   .reveal-viewport::after {
      content: "@coderbyheart | CC-BY-NC-SA-4.0";
      position: absolute;
      bottom: 0; 
      left: 0;
      width: 100%; 
      height: 60px;
      background-color: #191919;
      color: white;
      font-family: var(--main-font);
      font-size: 22px;
      font-weight: 500;
      line-height: 60px;
      padding-left: 10vw;
   }
   #markus-tacker img {
      border-radius: 100%;
    }
    #markus-tacker ul {
      font-size: 80%;
      margin-top: 6rem;
    }
    #markus-tacker div.column:first-child {
      text-align: center;
    }
    #title-slide h1 {
      color: #e00073;
      font-weight: 500;
      font-size: 60px;
    }
    #title-slide h1:after {
      content: "Trondheim Developer Conference";
      display: block;
      color: #222;
      padding: 1rem;
      margin-top: 2rem;
      font-weight: 300;
      font-size: 32px;
    }
    #title-slide:after {
      content: "October 2023";
      font-size: 22px;
      color: #191919;
      font-style: italic;
    }
    figcaption {
      display: none;
    }
    div.column {
      text-align: left;
      width: calc(50% - 1rem); 
      margin-right: 1rem;
    }
    div.column + div.column {
      margin-left: 1rem;
      margin-right: 0;
    }
    .slide p {
      text-align: left;
    }
    div.text-center p {
      text-align: center;
    }
    .reveal pre {
      box-shadow: none;
    }
    .reveal .slide-number {
      bottom: initial;
      top: 8px;
      color: #333;
      background-color: transparent;
      font-size: 36px;
    }
  </style>
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">Exploring better ways to write tests (updated edition)</h1>
</section>

<section id="markus-tacker" class="title-slide slide level1">
<h1>Markus Tacker</h1>
<div class="columns">
<div class="column" style="width:40%;">
<figure>
<img data-src="./markus.webp" style="width:50.0%" alt="Markus Tacker" /><figcaption aria-hidden="true">Markus Tacker</figcaption>
</figure>
</div><div class="column" style="width:48%;">
<p><small>Pronouns: he/him</small></p>
<p>Principal R&amp;D Engineer<br />
Nordic Semiconductor<br />
Trondheim, Norway</p>
<p><a href="https://coderbyheart.com/socials">coderbyheart.com/socials</a></p>
</div>
</div>
</section>

<section id="slides" class="title-slide slide level1">
<h1>Slides</h1>
<figure>
<img data-src="./qrcode.png" style="width:50.0%" alt="QR Code to Slides" /><figcaption aria-hidden="true">QR Code to Slides</figcaption>
</figure>
<div style="text-align: center">
<code>bit.ly/better-test-tools</code>
</div>
</section>

<section id="preface" class="title-slide slide level1">
<h1>Preface</h1>
<p>I need to do <a href="https://coderbyheart.com/talks#it-does-not-run-on-my-machine-integration-testing-a-cloud-native-application">a lot of end-to-end testing</a>, but I am not <em>really</em> happy with the tools.</p>
<p>So I wrote a <em>new</em> test framework ‚Ä¶ <em>*sigh*</em>.</p>
<p>I‚Äôd rather I didn‚Äôt, but it actually adresses shortcomings I see with the tools that <em>I</em> use daily.</p>
<p>So let‚Äôs have a look at what‚Äôs missing‚Ä¶</p>
</section>

<section id="need-1-better-way-to-write-end-to-end-tests" class="title-slide slide level1">
<h1>Need 1: Better way to write end-to-end tests</h1>
<p>The way I write tests sucks‚Ä¶</p>
</section>

<section id="gherkin-intro" class="title-slide slide level1">
<h1>Gherkin intro</h1>
<p>ü´∂üèª Gherkin fully decouples test code from implementation, has been useful many times for me.</p>
<p>This is Gherkin syntax <a href="https://cucumber.io/docs/gherkin/reference/">from the source</a>:</p>
<pre class="gherkin"><code>Feature: Guess the word

  # The first example has two steps
  Scenario: Maker starts a game
    When the Maker starts a game
    Then the Maker waits for a Breaker to join

  # The second example has three steps
  Scenario: Breaker joins a game
    Given the Maker has started a game with the word &quot;silky&quot;
    When the Breaker joins the Maker&#39;s game
    Then the Breaker must guess a word with 5 characters</code></pre>
</section>

<section id="notes-on-how-i-use-gherkin" class="title-slide slide level1">
<h1>Notes on how I use Gherkin</h1>
<ol type="1">
<li><p>My scenarios intentionally are <strong>NOT</strong> following <a href="https://cucumber.io/docs/bdd/better-gherkin/">the Gherkin recommendation</a> (because the user is a machine)</p></li>
<li><p>we don‚Äôt have business people writing the scenarios.</p></li>
</ol>
</section>

<section id="using-gherkin-in-my-projects-example" class="title-slide slide level1">
<h1>Using Gherkin in my projects: Example</h1>
<pre class="gherkin"><code>Feature: Device Messages

  Devices can publish arbitrary messages on the /messages topic and that
  the messages can then be queried in Timestream.

  Background:

    Given I am run after the &quot;Device: Update Shadow&quot; feature</code></pre>
<p>üò≠ not well solved by Gherkin: <strong>dependency on other Feature</strong></p>
<aside class="notes">
<p>Examples used:</p>
<ul>
<li>https://github.com/NordicSemiconductor/asset-tracker-cloud-aws-js/blob/e620758645d9768ec55ac8e2512e43b9970dbb24/features/DeviceMessages.feature</li>
<li>https://github.com/NordicSemiconductor/asset-tracker-cloud-aws-js/blob/0c88ee3bedc433b572b918642f41b5f31b2b5b50/features/CellGeolocationnRFCloud.feature#L6</li>
</ul>
</aside>
</section>

<section id="device-sends-a-message" class="title-slide slide level1">
<h1>Device sends a message</h1>
<pre class="gherkin"><code>  Scenario: Devices publishes that an impact was detected

    Given I store &quot;$millis()&quot; into &quot;ts&quot;
    Then the tracker publishes this message to the topic {tracker:id}/messages
      &quot;&quot;&quot;
      {
        &quot;impact&quot;: {
          &quot;v&quot;: {magnitude},
          &quot;ts&quot;: {ts}
        }
      }
      &quot;&quot;&quot;</code></pre>
<p>üò≠ not well solved by Gherkin: <strong>low level API calls</strong></p>
</section>

<section id="web-app-can-retrieve-message" class="title-slide slide level1">
<h1>Web app can retrieve message</h1>
<pre class="gherkin"><code>    Given I am authenticated with Cognito
    When I run this Timestream query
      &quot;&quot;&quot;
      SELECT measure_value::double AS value
      FROM &quot;{historicaldataDatabaseName}&quot;.&quot;{historicaldataTableName}&quot;
      WHERE deviceId=&#39;{tracker:id}&#39;
        AND measure_name=&#39;impact&#39;
        AND measure_value::double IS NOT NULL
      ORDER BY time DESC
      &quot;&quot;&quot;
    Then &quot;timestreamQueryResult&quot; should match this JSON
      &quot;&quot;&quot;
      [
        {
          &quot;value&quot;: {magnitude}
        }
      ]
      &quot;&quot;&quot;</code></pre>
<p>üò≠ not well solved by Gherkin: <strong>eventual consistency</strong></p>
</section>

<section id="run-entire-features-multiple-times" class="title-slide slide level1">
<h1>Run entire features multiple times</h1>
<p>because it improves readability (needed because Note 1), and because of per-Scenario retries</p>
<pre class="gherkin"><code>Feature: nRF Cloud Cell Geolocation

    Contexts:

    | nw    |
    | ltem  |
    | nbiot |

    Scenario: Query the cell

        Given I store &quot;$millis()&quot; into &quot;ts&quot;
        When I GET /cell?cell={cellId}&amp;area=30401&amp;mccmnc=24201&amp;nw=&lt;nw&gt;&amp;ts={ts}</code></pre>
<p>üò≠ not well solved by Gherkin: <strong>Gherkin only has examples per scenario</strong></p>
</section>

<section id="lets-improve-gherkin-bdd-markdown" class="title-slide slide level1">
<h1>Let‚Äôs improve Gherkin: BDD Markdown</h1>
<p><a href="https://github.com/NordicSemiconductor/bdd-markdown-js">github.com/NordicSemiconductor/bdd-markdown-js</a></p>
<ul>
<li>Dependencies</li>
<li>Comments</li>
<li>Formatted code</li>
<li>Context</li>
<li>Asynchronous results</li>
<li><del>Retries</del></li>
</ul>
<p><a href="https://raw.githubusercontent.com/NordicSemiconductor/bdd-markdown-js/saga/parser/test-data/feature/Example.feature.md">Supported syntax</a></p>
</section>

<section id="dependencies" class="title-slide slide level1">
<h1>Dependencies</h1>
<div class="sourceCode" id="cb6"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="an">needs:</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">  - First feature</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="fu"># Second</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="fu">## Scenario</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>Given this is the first step</span></code></pre></div>
</section>

<section id="comments" class="title-slide slide level1">
<h1>Comments</h1>
<div class="sourceCode" id="cb7"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Example feature</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; This is a description for the feature.</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- Comments on separate lines are supported. They will be associated with the following keyword. -‚ü∂</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co">## The first scenario</span></span></code></pre></div>
</section>

<section id="formatted-code" class="title-slide slide level1">
<h1>Formatted code</h1>
<div class="sourceCode" id="cb8"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">## Verify that a webhook request was sent using the REST client</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>When I POST to <span class="in">`${webhookReceiver}/hook`</span> with this JSON</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="in">```json</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span> <span class="dt">&quot;foo&quot;</span><span class="fu">:</span> <span class="st">&quot;bar&quot;</span> <span class="fu">}</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
</section>

<section id="contexts" class="title-slide slide level1">
<h1>Contexts</h1>
<div class="sourceCode" id="cb9"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="an">contexts:</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co">  - nw: ltem</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co">    nw-modem: LTE-M</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="co">  - nw: nbiot</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co">    nw-modem: NB-IoT</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span></code></pre></div>
</section>

<section id="make-eventual-consistent-behaviour-first-party-citizen" class="title-slide slide level1">
<h1>Make eventual consistent behaviour first party citizen</h1>
<div class="sourceCode" id="cb10"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">## Scenario Outline: Move the rover backward</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>Given I have a Mars Rover</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>When I set the initial starting point to <span class="in">`0,0`</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>And I set the initial direction to <span class="in">`${direction}`</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>And I move the Mars Rover <span class="in">`backward`</span> 1 square</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>Soon the current position should be <span class="in">`${x},${y}`</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="fu">### Examples</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>| direction | x   | y   |</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>| --------- | --- | --- |</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>| N         | 0   | 1   |</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>| S         | 0   | -1  |</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>| E         | -1  | 0   |</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>| W         | 1   | 0   |</span></code></pre></div>
<aside class="notes">
<ul>
<li><a href="https://github.com/NordicSemiconductor/bdd-markdown-js/blob/dfa44aa6f7ea6c69087a8d333456f67d1069c550/examples/mars-rover/MarsRover.feature.md#hit-an-obstacle"><code>Soon</code> keyword</a></li>
</ul>
</aside>
</section>

<section id="retries" class="title-slide slide level1">
<h1><del>Retries</del></h1>
<p>‚ö† <em>Update!</em> This turned out to be a bad idea!</p>
<p>ü§Ø Instead, let steps decide on retry behaviour.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Configure the retry settings for the entire feature</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="an">retry:</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co">  tries: 10</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co">  initialDelay: 250</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a><span class="co">  delayFactor: 2</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a><span class="fu"># To Do List</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- This @retry:tries=5 applies to all steps in the scenario. -‚ü∂</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="co">## Create a new todo list item</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="co">Given I create a new task named `My item`</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- This @retry:tries=3,initialDelay=100,delayFactor=1.5 applies only to the next step. -‚ü∂</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a><span class="co">Soon the list of tasks should contain `My item`</span></span></code></pre></div>
</section>

<section id="bonus-integrate-markdown-with-github-actions" class="title-slide slide level1">
<h1>Bonus: Integrate Markdown with GitHub Actions</h1>
<figure>
<img data-src="./github-actions-markdown.png" alt="Markdown in GitHub Actions summaries" /><figcaption aria-hidden="true">Markdown in GitHub Actions summaries</figcaption>
</figure>
<aside class="notes">
<ul>
<li><a href="https://github.blog/2022-05-09-supercharging-github-actions-with-job-summaries/" class="uri">https://github.blog/2022-05-09-supercharging-github-actions-with-job-summaries/</a></li>
<li><a href="https://github.com/NordicSemiconductor/bdd-markdown-js/actions/runs/4954467574#summary-13422645884" class="uri">https://github.com/NordicSemiconductor/bdd-markdown-js/actions/runs/4954467574#summary-13422645884</a></li>
</ul>
</aside>
</section>

<section id="need-2-i-need-architecture-diagrams" class="title-slide slide level1">
<h1>Need 2: I need architecture diagrams</h1>
<ul>
<li>Understanding a system purely from tests doesn‚Äôt work</li>
<li>Manually creating architecture diagrams works, but maintaining is a mess</li>
</ul>
</section>

<section id="example-backend-architecture-diagrams-using-c4-and-miro" class="title-slide slide level1">
<h1>Example: Backend Architecture diagrams using C4 and Miro</h1>
<ul>
<li><a href="https://c4model.com/">c4model.com</a></li>
</ul>
</section>

<section id="system-context-diagram" class="title-slide slide level1">
<h1>System Context Diagram</h1>
<figure>
<img data-src="./Iris_%20System%20Context%20Diagram.jpg" alt="System Context Diagram" /><figcaption aria-hidden="true">System Context Diagram</figcaption>
</figure>
</section>

<section id="container-diagram" class="title-slide slide level1">
<h1>Container Diagram</h1>
<figure>
<img data-src="./Iris_%20Container%20diagram.jpg" alt="Container Diagram" /><figcaption aria-hidden="true">Container Diagram</figcaption>
</figure>
</section>

<section id="component-diagram" class="title-slide slide level1">
<h1>Component Diagram</h1>
<figure>
<img data-src="./Component%20diagram_%20Backend%20-%20Backend.jpg" alt="Component Diagram" /><figcaption aria-hidden="true">Component Diagram</figcaption>
</figure>
</section>

<section id="problems" class="title-slide slide level1">
<h1>Problems</h1>
<ul>
<li>Hard to build</li>
<li>even harder to maintain</li>
<li>static</li>
</ul>
</section>

<section id="lets-automate-this" class="title-slide slide level1">
<h1>Let‚Äôs automate this!</h1>
<p><a href="https://coderbyheart.com/twitter/status/1381512195612246018">I‚Äôve generated</a> an architecture diagram of <em>one of the stacks</em> in this solution</p>
</section>

<section id="result" class="title-slide slide level1">
<h1>Result</h1>
<figure>
<img data-src="./auto-generated-diagram.jpg" alt="Auto-generated Diagram" /><figcaption aria-hidden="true">Auto-generated Diagram</figcaption>
</figure>
</section>

<section id="it-shows-that" class="title-slide slide level1">
<h1>It shows that</h1>
<ul>
<li>auto-generating diagrams is pretty useless</li>
<li>a lot of the ‚Äúmagic‚Äù of AWS solutions is in the configurations and typical architecture diagrams are bad at visualizing this.</li>
</ul>
</section>

<section id="solution-create-from-test-runs" class="title-slide slide level1">
<h1>Solution: Create from test runs</h1>
<ul>
<li>Generate architecture diagrams <a href="https://github.com/NordicSemiconductor/cloud-bdd-markdown-e2e-example-aws-js">from test runs</a></li>
</ul>
<figure>
<img data-src="./autogenerated-diagram.png" alt="Auto-generated diagram" /><figcaption aria-hidden="true">Auto-generated diagram</figcaption>
</figure>
<aside class="notes">
<p><a href="https://github.com/NordicSemiconductor/cloud-bdd-markdown-e2e-example-aws-js/actions/runs/4956101677#summary-13426591516">Example</a></p>
</aside>
</section>

<section id="the-future-combine-everything-in-one-ui" class="title-slide slide level1">
<h1>The Future? Combine everything in one UI!</h1>
<figure>
<img data-src="./idea.jpg" alt="Idea" /><figcaption aria-hidden="true">Idea</figcaption>
</figure>
</section>

<section id="interactive-feature-and-architecture-explorer" class="title-slide slide level1">
<h1>Interactive Feature and Architecture Explorer‚Ñ¢</h1>
<ul>
<li>Put the flow of events first!<br />
We understand systems from how they behave, not how they are constructed.</li>
<li>Filter by feature ‚ü∂ show only the components and events used</li>
<li>Filter by component ‚ü∂ which features use this component?
<ul>
<li>Which features have a lot of overlap in component usage</li>
</ul></li>
<li>Inventory of all events ‚ü∂ filter events that include e.g.¬†an email, which components are used?</li>
</ul>
</section>

<section id="the-sky-is-the-limit" class="title-slide slide level1">
<h1>The sky is the limit</h1>
<p>‚Ä¶ if we start improving the tools that we use to get our work done.</p>
</section>

<section id="thank-you" class="title-slide slide level1">
<h1>Thank you</h1>
<div class="text-center">
<p>Please share your feedback!</p>
<p><small><a href="https://coderbyheart.com/socials">coderbyheart.com/socials</a></small></p>
<p><small>Latest version:<br />
<a href="https://bit.ly/better-test-tools"><code>bit.ly/better-test-tools</code></a></small></p>
</div>
</section>
    </div>
  </div>

  <script src="https://unpkg.com/reveal.js@^4//dist/reveal.js"></script>

  <!-- reveal.js plugins -->
  <script src="https://unpkg.com/reveal.js@^4//plugin/notes/notes.js"></script>
  <script src="https://unpkg.com/reveal.js@^4//plugin/search/search.js"></script>
  <script src="https://unpkg.com/reveal.js@^4//plugin/zoom/zoom.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
        // Display controls in the bottom right corner
        controls: true,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: true,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: false,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: true,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'default',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: true,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // reveal.js plugins
        plugins: [
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    </body>
</html>
